Last login: Mon May 13 22:14:55 on ttys002

The default interactive shell is now zsh.
To update your account to use zsh, please run `chsh -s /bin/zsh`.
For more details, please visit https://support.apple.com/kb/HT208050.
MacBook-Air:~ k-matsumoto-2123$ MacBook-Air:~ k-matsumoto-2123$ MacBook-Air:~ k-matsumoto-2123$ MacBook-Air:~ k-matsumoto-2123$ MacBook-Air:~ k-matsumoto-2123$ 
MacBook-Air:~ k-matsumoto-2123$ 
MacBook-Air:~ k-matsumoto-2123$ 
MacBook-Air:~ k-matsumoto-2123$ 
MacBook-Air:~ k-matsumoto-2123$ cd .ssh
MacBook-Air:.ssh k-matsumoto-2123$ 
MacBook-Air:.ssh k-matsumoto-2123$ 
MacBook-Air:.ssh k-matsumoto-2123$ 
MacBook-Air:.ssh k-matsumoto-2123$ ssh -i "RaiseTech-kadai-keyPair.pem" ec2-user@ec2-52-69-255-129.ap-northeast-1.compute.amazonaws.com
Last login: Mon May 13 13:15:28 2024 from m106073167096.v4.enabler.ne.jp
   ,     #_
   ~\_  ####_        Amazon Linux 2
  ~~  \_#####\
  ~~     \###|       AL2 End of Life is 2025-06-30.
  ~~       \#/ ___
   ~~       V~' '->
    ~~~         /    A newer version of Amazon Linux is available!
      ~~._.   _/
         _/ _/       Amazon Linux 2023, GA and supported until 2028-03-15.
       _/m/'           https://aws.amazon.com/linux/amazon-linux-2023/

[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ [ec2-user@ip-10-0-10-58 ~]$ [ec2-user@ip-10-0-10-58 ~]$ sudo amazon-linux-extras enable nginx1
  2  httpd_modules            available    [ =1.0  =stable ]
  3  memcached1.5             available    \
        [ =1.5.1  =1.5.16  =1.5.17 ]
  9  R3.4                     available    [ =3.4.3  =stable ]
 10  rust1                    available    \
        [ =1.22.1  =1.26.0  =1.26.1  =1.27.2  =1.31.0  =1.38.0
          =stable ]
 18  libreoffice              available    \
        [ =5.0.6.2_15  =5.3.6.1  =stable ]
 19  gimp                     available    [ =2.8.22 ]
 20 †docker=latest            enabled      \
        [ =17.12.1  =18.03.1  =18.06.1  =18.09.9  =stable ]
 21  mate-desktop1.x          available    \
        [ =1.19.0  =1.20.0  =stable ]
 22  GraphicsMagick1.3        available    \
        [ =1.3.29  =1.3.32  =1.3.34  =stable ]
 24  epel                     available    [ =7.11  =stable ]
 25  testing                  available    [ =1.0  =stable ]
 26  ecs                      available    [ =stable ]
 27 †corretto8                available    \
        [ =1.8.0_192  =1.8.0_202  =1.8.0_212  =1.8.0_222  =1.8.0_232
          =1.8.0_242  =stable ]
 32  lustre2.10               available    \
        [ =2.10.5  =2.10.8  =stable ]
 33 †java-openjdk11           available    [ =11  =stable ]
 34  lynis                    available    [ =stable ]
 36  BCC                      available    [ =0.x  =stable ]
 37  mono                     available    [ =5.x  =stable ]
 38  nginx1=latest            enabled      [ =stable ]
 40  mock                     available    [ =stable ]
 43  livepatch                available    [ =stable ]
 44 †python3.8                available    [ =stable ]
 45  haproxy2                 available    [ =stable ]
 46  collectd                 available    [ =stable ]
 47  aws-nitro-enclaves-cli   available    [ =stable ]
 48  R4                       available    [ =stable ]
  _  kernel-5.4               available    [ =stable ]
 50  selinux-ng               available    [ =stable ]
 52  tomcat9                  available    [ =stable ]
 53  unbound1.13              available    [ =stable ]
 54 †mariadb10.5              available    [ =stable ]
 55  kernel-5.10=latest       enabled      [ =stable ]
 56  redis6                   available    [ =stable ]
 58 †postgresql12             available    [ =stable ]
 59 †postgresql13             available    [ =stable ]
 60  mock2                    available    [ =stable ]
 61  dnsmasq2.85              available    [ =stable ]
 62  kernel-5.15              available    [ =stable ]
 63 †postgresql14             available    [ =stable ]
 64  firefox                  available    [ =stable ]
 65  lustre                   available    [ =stable ]
 66 †php8.1                   available    [ =stable ]
 67  awscli1                  available    [ =stable ]
 68 †php8.2                   available    [ =stable ]
 69  dnsmasq                  available    [ =stable ]
 70  unbound1.17              available    [ =stable ]
 72  collectd-python3         available    [ =stable ]
† Note on end-of-support. Use 'info' subcommand.

Now you can install:
 # yum clean metadata
 # yum install nginx
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ sudo yum -y install nginx
Loaded plugins: extras_suggestions, langpacks, priorities, update-motd
amzn2-core                                                       | 3.6 kB  00:00:00     
amzn2extra-docker                                                | 2.9 kB  00:00:00     
amzn2extra-kernel-5.10                                           | 3.0 kB  00:00:00     
amzn2extra-nginx1                                                | 2.9 kB  00:00:00     
(1/2): amzn2extra-nginx1/2/x86_64/updateinfo                     | 3.0 kB  00:00:00     
(2/2): amzn2extra-nginx1/2/x86_64/primary_db                     |  55 kB  00:00:00     
Resolving Dependencies
--> Running transaction check
---> Package nginx.x86_64 1:1.22.1-1.amzn2.0.3 will be installed
--> Processing Dependency: nginx-core = 1:1.22.1-1.amzn2.0.3 for package: 1:nginx-1.22.1-1.amzn2.0.3.x86_64
--> Processing Dependency: nginx-filesystem = 1:1.22.1-1.amzn2.0.3 for package: 1:nginx-1.22.1-1.amzn2.0.3.x86_64
--> Running transaction check
---> Package nginx-core.x86_64 1:1.22.1-1.amzn2.0.3 will be installed
--> Processing Dependency: libcrypto.so.1.1(OPENSSL_1_1_0)(64bit) for package: 1:nginx-core-1.22.1-1.amzn2.0.3.x86_64
--> Processing Dependency: libssl.so.1.1(OPENSSL_1_1_0)(64bit) for package: 1:nginx-core-1.22.1-1.amzn2.0.3.x86_64
--> Processing Dependency: libssl.so.1.1(OPENSSL_1_1_1)(64bit) for package: 1:nginx-core-1.22.1-1.amzn2.0.3.x86_64
--> Processing Dependency: libcrypto.so.1.1()(64bit) for package: 1:nginx-core-1.22.1-1.amzn2.0.3.x86_64
--> Processing Dependency: libprofiler.so.0()(64bit) for package: 1:nginx-core-1.22.1-1.amzn2.0.3.x86_64
--> Processing Dependency: libssl.so.1.1()(64bit) for package: 1:nginx-core-1.22.1-1.amzn2.0.3.x86_64
---> Package nginx-filesystem.noarch 1:1.22.1-1.amzn2.0.3 will be installed
--> Running transaction check
---> Package gperftools-libs.x86_64 0:2.6.1-1.amzn2 will be installed
---> Package openssl11-libs.x86_64 1:1.1.1g-12.amzn2.0.20 will be installed
--> Processing Dependency: openssl11-pkcs11 for package: 1:openssl11-libs-1.1.1g-12.amzn2.0.20.x86_64
--> Running transaction check
---> Package openssl11-pkcs11.x86_64 0:0.4.10-6.amzn2.0.1 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

========================================================================================
 Package              Arch       Version                    Repository             Size
========================================================================================
Installing:
 nginx                x86_64     1:1.22.1-1.amzn2.0.3       amzn2extra-nginx1      55 k
Installing for dependencies:
 gperftools-libs      x86_64     2.6.1-1.amzn2              amzn2-core            274 k
 nginx-core           x86_64     1:1.22.1-1.amzn2.0.3       amzn2extra-nginx1     559 k
 nginx-filesystem     noarch     1:1.22.1-1.amzn2.0.3       amzn2extra-nginx1      25 k
 openssl11-libs       x86_64     1:1.1.1g-12.amzn2.0.20     amzn2-core            1.4 M
 openssl11-pkcs11     x86_64     0.4.10-6.amzn2.0.1         amzn2-core             61 k

Transaction Summary
========================================================================================
Install  1 Package (+5 Dependent packages)

Total download size: 2.4 M
Installed size: 6.7 M
Downloading packages:
(1/6): nginx-1.22.1-1.amzn2.0.3.x86_64.rpm                       |  55 kB  00:00:00     
(2/6): gperftools-libs-2.6.1-1.amzn2.x86_64.rpm                  | 274 kB  00:00:00     
(3/6): nginx-filesystem-1.22.1-1.amzn2.0.3.noarch.rpm            |  25 kB  00:00:00     
(4/6): nginx-core-1.22.1-1.amzn2.0.3.x86_64.rpm                  | 559 kB  00:00:00     
(5/6): openssl11-pkcs11-0.4.10-6.amzn2.0.1.x86_64.rpm            |  61 kB  00:00:00     
(6/6): openssl11-libs-1.1.1g-12.amzn2.0.20.x86_64.rpm            | 1.4 MB  00:00:00     
----------------------------------------------------------------------------------------
Total                                                      7.9 MB/s | 2.4 MB  00:00     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : openssl11-pkcs11-0.4.10-6.amzn2. [                                 ] 1/6  Installing : openssl11-pkcs11-0.4.10-6.amzn2. [###########                      ] 1/6  Installing : openssl11-pkcs11-0.4.10-6.amzn2. [##############                   ] 1/6  Installing : openssl11-pkcs11-0.4.10-6.amzn2. [##########################       ] 1/6  Installing : openssl11-pkcs11-0.4.10-6.amzn2. [############################     ] 1/6  Installing : openssl11-pkcs11-0.4.10-6.amzn2. [################################ ] 1/6  Installing : openssl11-pkcs11-0.4.10-6.amzn2.0.1.x86_64                           1/6 
  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [                                 ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [#                                ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [##                               ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [###                              ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [####                             ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [#####                            ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [######                           ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [#######                          ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [########                         ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [#########                        ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [##########                       ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [###########                      ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [############                     ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [#############                    ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [##############                   ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [###############                  ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [################                 ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [#################                ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [##################               ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [###################              ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [####################             ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [#####################            ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [######################           ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [#######################          ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [########################         ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [#########################        ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [##########################       ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [###########################      ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [############################     ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [#############################    ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [##############################   ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [###############################  ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2 [################################ ] 2/6  Installing : 1:openssl11-libs-1.1.1g-12.amzn2.0.20.x86_64                         2/6 
  Installing : 1:nginx-filesystem-1.22.1-1.amzn [                                 ] 3/6  Installing : 1:nginx-filesystem-1.22.1-1.amzn [###                              ] 3/6  Installing : 1:nginx-filesystem-1.22.1-1.amzn [#######                          ] 3/6  Installing : 1:nginx-filesystem-1.22.1-1.amzn [###########                      ] 3/6  Installing : 1:nginx-filesystem-1.22.1-1.amzn [################                 ] 3/6  Installing : 1:nginx-filesystem-1.22.1-1.amzn [####################             ] 3/6  Installing : 1:nginx-filesystem-1.22.1-1.amzn [########################         ] 3/6  Installing : 1:nginx-filesystem-1.22.1-1.amzn [#############################    ] 3/6  Installing : 1:nginx-filesystem-1.22.1-1.amzn2.0.3.noarch                         3/6 
  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [                                 ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [#                                ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [##                               ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [####                             ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [#####                            ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [#######                          ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [########                         ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [#########                        ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [###########                      ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [############                     ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [##############                   ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [###############                  ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [#################                ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [##################               ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [####################             ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [######################           ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [#######################          ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [########################         ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [#########################        ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [###########################      ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [#############################    ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [###############################  ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x8 [################################ ] 4/6  Installing : gperftools-libs-2.6.1-1.amzn2.x86_64                                 4/6 
  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [                                 ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [#                                ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [###                              ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [####                             ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [#####                            ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [#######                          ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [########                         ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [#########                        ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [###########                      ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [############                     ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [##############                   ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [###############                  ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [################                 ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [##################               ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [###################              ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [####################             ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [######################           ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [#######################          ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [#########################        ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [##########################       ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [###########################      ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [#############################    ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [##############################   ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [###############################  ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3. [################################ ] 5/6  Installing : 1:nginx-core-1.22.1-1.amzn2.0.3.x86_64                               5/6 
  Installing : 1:nginx-1.22.1-1.amzn2.0.3.x86_6 [                                 ] 6/6  Installing : 1:nginx-1.22.1-1.amzn2.0.3.x86_6 [#                                ] 6/6  Installing : 1:nginx-1.22.1-1.amzn2.0.3.x86_6 [##                               ] 6/6  Installing : 1:nginx-1.22.1-1.amzn2.0.3.x86_6 [###                              ] 6/6  Installing : 1:nginx-1.22.1-1.amzn2.0.3.x86_6 [####                             ] 6/6  Installing : 1:nginx-1.22.1-1.amzn2.0.3.x86_6 [#################                ] 6/6  Installing : 1:nginx-1.22.1-1.amzn2.0.3.x86_6 [###############################  ] 6/6  Installing : 1:nginx-1.22.1-1.amzn2.0.3.x86_6 [################################ ] 6/6  Installing : 1:nginx-1.22.1-1.amzn2.0.3.x86_64                                    6/6 
  Verifying  : 1:nginx-1.22.1-1.amzn2.0.3.x86_64                                    1/6 
  Verifying  : gperftools-libs-2.6.1-1.amzn2.x86_64                                 2/6 
  Verifying  : 1:openssl11-libs-1.1.1g-12.amzn2.0.20.x86_64                         3/6 
  Verifying  : openssl11-pkcs11-0.4.10-6.amzn2.0.1.x86_64                           4/6 
  Verifying  : 1:nginx-filesystem-1.22.1-1.amzn2.0.3.noarch                         5/6 
  Verifying  : 1:nginx-core-1.22.1-1.amzn2.0.3.x86_64                               6/6 

Installed:
  nginx.x86_64 1:1.22.1-1.amzn2.0.3                                                     

Dependency Installed:
  gperftools-libs.x86_64 0:2.6.1-1.amzn2                                                
  nginx-core.x86_64 1:1.22.1-1.amzn2.0.3                                                
  nginx-filesystem.noarch 1:1.22.1-1.amzn2.0.3                                          
  openssl11-libs.x86_64 1:1.1.1g-12.amzn2.0.20                                          
  openssl11-pkcs11.x86_64 0:0.4.10-6.amzn2.0.1                                          

Complete!
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ nginx -v
nginx version: nginx/1.22.1
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ sudo systemctl enable nginx
Created symlink from /etc/systemd/system/multi-user.target.wants/nginx.service to /usr/lib/systemd/system/nginx.service.
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ sudo systemctl start nginx
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ sudo systemctl status nginx
● nginx.service - The nginx HTTP and reverse proxy server
   Loaded: loaded (/usr/lib/systemd/system/nginx.service; enabled; vendor preset: disabled)
   Active: active (running) since Mon 2024-05-13 13:17:46 UTC; 9s ago
  Process: 4568 ExecStart=/usr/sbin/nginx (code=exited, status=0/SUCCESS)
  Process: 4564 ExecStartPre=/usr/sbin/nginx -t (code=exited, status=0/SUCCESS)
  Process: 4563 ExecStartPre=/usr/bin/rm -f /run/nginx.pid (code=exited, status=0/SUCCESS)
 Main PID: 4571 (nginx)
   CGroup: /system.slice/nginx.service
           ├─4571 nginx: master process /usr/sbin/nginx
           └─4572 nginx: worker process

May 13 13:17:46 ip-10-0-10-58.ap-northeast-1.compute.internal systemd[1]: Starting Th...
May 13 13:17:46 ip-10-0-10-58.ap-northeast-1.compute.internal nginx[4564]: nginx: the...
May 13 13:17:46 ip-10-0-10-58.ap-northeast-1.compute.internal nginx[4564]: nginx: con...
May 13 13:17:46 ip-10-0-10-58.ap-northeast-1.compute.internal systemd[1]: Started The...
Hint: Some lines were ellipsized, use -l to show in full.
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ unicorn -v
unicorn v6.1.0
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ sudo systemctl stop nginx
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ sudo systemctl status nginx
● nginx.service - The nginx HTTP and reverse proxy server
   Loaded: loaded (/usr/lib/systemd/system/nginx.service; enabled; vendor preset: disabled)
   Active: inactive (dead) since Mon 2024-05-13 13:19:01 UTC; 7s ago
  Process: 4568 ExecStart=/usr/sbin/nginx (code=exited, status=0/SUCCESS)
  Process: 4564 ExecStartPre=/usr/sbin/nginx -t (code=exited, status=0/SUCCESS)
  Process: 4563 ExecStartPre=/usr/bin/rm -f /run/nginx.pid (code=exited, status=0/SUCCESS)
 Main PID: 4571 (code=exited, status=0/SUCCESS)

May 13 13:17:46 ip-10-0-10-58.ap-northeast-1.compute.internal systemd[1]: Starting Th...
May 13 13:17:46 ip-10-0-10-58.ap-northeast-1.compute.internal nginx[4564]: nginx: the...
May 13 13:17:46 ip-10-0-10-58.ap-northeast-1.compute.internal nginx[4564]: nginx: con...
May 13 13:17:46 ip-10-0-10-58.ap-northeast-1.compute.internal systemd[1]: Started The...
May 13 13:19:01 ip-10-0-10-58.ap-northeast-1.compute.internal systemd[1]: Stopping Th...
May 13 13:19:01 ip-10-0-10-58.ap-northeast-1.compute.internal systemd[1]: Stopped The...
Hint: Some lines were ellipsized, use -l to show in full.
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ sudo cat /etc/nginx/conf.d/raisetech-live8-sample-app.conf
cat: /etc/nginx/conf.d/raisetech-live8-sample-app.conf: No such file or directory
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ sudo vi /etc/nginx/conf.d/raisetech-live8-sample-app.conf
"/etc/nginx/conf.d/raisetech-live8-sample-app.conf" [New]▽             ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       0,0-1Alli -- INSERT --0,1Allupstream unicorn {
  # Unicornと連携させるための設定。
  # アプリケーション名を自身のアプリ名に書き換えることに注意。今回であればおそらく
  server unix:/var/www/raisetech-live8-sample-app/unicorn.sock;
}# {}で囲った部分をブロックと呼ぶ。サーバの設定ができる
server {  # このプログラムが接続を受け付けるポート番号
  listen 80;  # クライアントからアップロードされてくるファイルの容量の上限を2ギガに設定。デフォルト>>は1メガなので大きめにしておく  client_max_body_s  client_max_body_size 2g;# 接続が来た際のrootディレクトリ  root /var/www/raisetech-live8-sample-app/public;# assetsファイル(CSSやJavaScriptのファイルなど)にアクセスが来た際に適用される設定
#  location ^~ /assets/ {#   gzip_static on;
#    expires max;#    add_header Cache-Control public;
#  }  try_files $uri/index.html $uri @unicorn;  locat  location @unicorn {
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header Host $http_host;    proxproxy_redirect off;
    proxy_pass http://unicorn;  }  error_pag  error_page 500 502 503 504 /500.html;
}37,1^[  37,0-1All::wq!"/etc/nginx/conf.d/raisetech-live8-sample-app.conf"</raisetech-live8-sample-app.conf" [New] 37L, 1217B written
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ sudo systemctl start nginx
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ sudo systemctl status nginx
● nginx.service - The nginx HTTP and reverse proxy server
   Loaded: loaded (/usr/lib/systemd/system/nginx.service; enabled; vendor preset: disabled)
   Active: active (running) since Mon 2024-05-13 13:20:41 UTC; 6s ago
  Process: 4605 ExecStart=/usr/sbin/nginx (code=exited, status=0/SUCCESS)
  Process: 4601 ExecStartPre=/usr/sbin/nginx -t (code=exited, status=0/SUCCESS)
  Process: 4600 ExecStartPre=/usr/bin/rm -f /run/nginx.pid (code=exited, status=0/SUCCESS)
 Main PID: 4607 (nginx)
   CGroup: /system.slice/nginx.service
           ├─4607 nginx: master process /usr/sbin/nginx
           └─4608 nginx: worker process

May 13 13:20:41 ip-10-0-10-58.ap-northeast-1.compute.internal systemd[1]: Starting Th...
May 13 13:20:41 ip-10-0-10-58.ap-northeast-1.compute.internal nginx[4601]: nginx: the...
May 13 13:20:41 ip-10-0-10-58.ap-northeast-1.compute.internal nginx[4601]: nginx: con...
May 13 13:20:41 ip-10-0-10-58.ap-northeast-1.compute.internal systemd[1]: Started The...
Hint: Some lines were ellipsized, use -l to show in full.
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ 
[ec2-user@ip-10-0-10-58 ~]$ cd /var/www/raisetech-live8-sample-app
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ cp -p ./config/unicorn.rb ./config/ unicorn.rb.org
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ vi ./config/unicorn.rb
"./config/unicorn.rb" 29L, 846B▽             worker_processes Integer(ENV["WEB_CONCURRENCY"] || 3)
timeout 15preload_app truelisten '/home/ec2-user/raisetech-live8-sample-app/unicorn.sock'
pid    '/home/ec2-user/raisetech-live8-sample-app/unicorn.pid'

before_fork do |server, worker|
  Signal.trap 'TERM' do
    puts 'Unicorn master intercepting TERM and sending myself QUIT instead'
    Process.kill 'QUIT', Process.pid
  end

  defined?(ActiveRecord::Base) and
    ActiveRecord::Base.connection.disconnect!
end

after_fork do |server, worker|
  Signal.trap 'TERM' do
    puts 'Unicorn worker intercepting TERM and doing nothing. Wait for master to send QUUIT'
  end

  defined?(ActiveRecord::Base) and
    ActiveRecord::Base.establish_connection
end

stderr_path File.expand_path('log/unicorn.log', ENV['RAILS_ROOT'])
stdout_path File.expand_path('log/unicorn.log', ENV['RAILS_ROOT'])

~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       ~                                                                                       1,1Allj 2j 3j 4,0-1j 5,1  l 2l 3l 4l 5l 6l 7l 8l 9l 10x dl  ome/ec2-user/raisetech-live8-sample-app/unicorn.sock'x dl  me/ec2-user/raisetech-live8-sample-app/unicorn.sock'x dl  e/ec2-user/raisetech-live8-sample-app/unicorn.sock'x dl  /ec2-user/raisetech-live8-sample-app/unicorn.sock'i -- INSERT --5,10Allw/ec2-user/raisetech-live8-sample-app/unicorn.sock'1w/ec2-user/raisetech-live8-sample-app/unicorn.sock'2w/ec2-user/raisetech-live8-sample-app/unicorn.sock'3/ec2-user/raisetech-live8-sample-app/unicorn.sock'2/ec2-user/raisetech-live8-sample-app/unicorn.sock'1/ec2-user/raisetech-live8-sample-app/unicorn.sock'0v/ec2-user/raisetech-live8-sample-app/unicorn.sock'1a/ec2-user/raisetech-live8-sample-app/unicorn.sock'2r/ec2-user/raisetech-live8-sample-app/unicorn.sock'34567892012/raisetech-live8-sample-app/unicorn.sock'1/raisetech-live8-sample-app/unicorn.sock'0/raisetech-live8-sample-app/unicorn.sock'19/raisetech-live8-sample-app/unicorn.sock'8/raisetech-live8-sample-app/unicorn.sock'7/raisetech-live8-sample-app/unicorn.sock'6/raisetech-live8-sample-app/unicorn.sock'5/raisetech-live8-sample-app/unicorn.sock'4w/raisetech-live8-sample-app/unicorn.sock'5w/raisetech-live8-sample-app/unicorn.sock'6w/raisetech-live8-sample-app/unicorn.sock'76654/ec2-user/raisetech-live8-sample-app/unicorn.pid'3/ec2-user/raisetech-live8-sample-app/unicorn.pid'2/ec2-user/raisetech-live8-sample-app/unicorn.pid'1/ec2-user/raisetech-live8-sample-app/unicorn.pid'0v/ec2-user/raisetech-live8-sample-app/unicorn.pid'1a/ec2-user/raisetech-live8-sample-app/unicorn.pid'2r/ec2-user/raisetech-live8-sample-app/unicorn.pid'34567892012/raisetech-live8-sample-app/unicorn.pid'1/raisetech-live8-sample-app/unicorn.pid'0/raisetech-live8-sample-app/unicorn.pid'19/raisetech-live8-sample-app/unicorn.pid'8/raisetech-live8-sample-app/unicorn.pid'7/raisetech-live8-sample-app/unicorn.pid'6/raisetech-live8-sample-app/unicorn.pid'5/raisetech-live8-sample-app/unicorn.pid'4w/raisetech-live8-sample-app/unicorn.pid'5w/raisetech-live8-sample-app/unicorn.pid'6w/raisetech-live8-sample-app/unicorn.pid'7^[  6,16All::wq!"./config/unicorn.rb" 29L, 834B written
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ diff ./config/unicorn.rb ./config/u nicorn.rb.org
5,6c5,6
< listen '/var/www/raisetech-live8-sample-app/unicorn.sock'
< pid    '/var/www/raisetech-live8-sample-app/unicorn.pid'
---
> listen '/home/ec2-user/raisetech-live8-sample-app/unicorn.sock'
> pid    '/home/ec2-user/raisetech-live8-sample-app/unicorn.pid'
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ bundle exec unicorn_rails -c ./conf ig/unicorn.rb -E development




[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ bin/setup
== Installing dependencies ==
Your Gemfile lists the gem jsbundling-rails (>= 0) more than once.
You should probably keep only one of them.
Remove any duplicate entries and specify the gem only once.
While it's not a problem now, it could cause errors if you change the version of one of them later.
The Gemfile's dependencies are satisfied
yarn install v1.22.19
[1/4] Resolving packages...
⠁ success Already up-to-date.
Done in 0.35s.

== Preparing database ==
Running via Spring preloader in process 4691
Created database 'raisetech_live8_sample_app_development'
Created database 'raisetech_live8_sample_app_test'

== Removing old logs and tempfiles ==

== Restarting application server ==
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ bundle exec unicorn_rails -c ./conf ig/unicorn.rb -E development





^C[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ 
[ec2-user@ip-10-0-10-58 raisetech-live8-sample-app]$ exit
logout
Connection to ec2-52-69-255-129.ap-northeast-1.compute.amazonaws.com closed.
MacBook-Air:.ssh k-matsumoto-2123$ 
MacBook-Air:.ssh k-matsumoto-2123$ 
MacBook-Air:.ssh k-matsumoto-2123$ exit
logout
